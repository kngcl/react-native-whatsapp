{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport * as Contacts from \"expo-contacts\";\nexport default function useContacts() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    contacts = _useState2[0],\n    setContacts = _useState2[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Contacts$reque = yield Contacts.requestPermissionsAsync(),\n        status = _yield$Contacts$reque.status;\n      if (status === \"granted\") {\n        var _yield$Contacts$getCo = yield Contacts.getContactsAsync({\n            fields: [Contacts.Fields.Emails]\n          }),\n          data = _yield$Contacts$getCo.data;\n        if (data.length > 0) {\n          setContacts(data.filter(function (c) {\n            return c.firstName && c.emails && c.emails[0] && c.emails[0].email;\n          }).map(mapContactToUser));\n        }\n      }\n    })();\n  }, []);\n  return contacts;\n}\nfunction mapContactToUser(contact) {\n  return {\n    contactName: contact.firstName && contact.lastName ? contact.firstName + \" \" + contact.lastName : contact.firstName,\n    email: contact.emails[0].email\n  };\n}","map":{"version":3,"names":["useEffect","useState","Contacts","useContacts","_useState","_useState2","_slicedToArray","contacts","setContacts","_asyncToGenerator","_yield$Contacts$reque","requestPermissionsAsync","status","_yield$Contacts$getCo","getContactsAsync","fields","Fields","Emails","data","length","filter","c","firstName","emails","email","map","mapContactToUser","contact","contactName","lastName"],"sources":["/home/evance/projects/Watsapp-react-native/hooks/useHook.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport * as Contacts from \"expo-contacts\";\n\nexport default function useContacts() {\n  const [contacts, setContacts] = useState([]);\n  useEffect(() => {\n    (async () => {\n      const { status } = await Contacts.requestPermissionsAsync();\n      if (status === \"granted\") {\n        const { data }: any = await Contacts.getContactsAsync({\n          fields: [Contacts.Fields.Emails],\n        });\n        if (data.length > 0) {\n          setContacts(\n            data\n              .filter(\n                (c: any) =>\n                  c.firstName && c.emails && c.emails[0] && c.emails[0].email\n              )\n              .map(mapContactToUser)\n          );\n        }\n      }\n    })();\n  }, []);\n  return contacts;\n}\nfunction mapContactToUser(contact: any) {\n  return {\n    contactName:\n      contact.firstName && contact.lastName\n        ? `${contact.firstName} ${contact.lastName}`\n        : contact.firstName,\n    email: contact.emails[0].email,\n  };\n}\n\n/* function mapContactToUser (contact:any) {\n    return {\n        contactName: contact.firstName && contact.lastName ? \n        `${contact.firstName} ${contact.lastName}`\n        : contact.firstName, \n        email: contact.emails[0].email\n     }\n} */\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAO,KAAKC,QAAQ,MAAM,eAAe;AAEzC,eAAe,SAASC,WAAWA,CAAA,EAAG;EACpC,IAAAC,SAAA,GAAgCH,QAAQ,CAAC,EAAE,CAAC;IAAAI,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5BL,SAAS,CAAC,YAAM;IACdS,iBAAA,CAAC,aAAY;MACX,IAAAC,qBAAA,SAAyBR,QAAQ,CAACS,uBAAuB,CAAC,CAAC;QAAnDC,MAAM,GAAAF,qBAAA,CAANE,MAAM;MACd,IAAIA,MAAM,KAAK,SAAS,EAAE;QACxB,IAAAC,qBAAA,SAA4BX,QAAQ,CAACY,gBAAgB,CAAC;YACpDC,MAAM,EAAE,CAACb,QAAQ,CAACc,MAAM,CAACC,MAAM;UACjC,CAAC,CAAC;UAFMC,IAAI,GAAAL,qBAAA,CAAJK,IAAI;QAGZ,IAAIA,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;UACnBX,WAAW,CACTU,IAAI,CACDE,MAAM,CACL,UAACC,CAAM;YAAA,OACLA,CAAC,CAACC,SAAS,IAAID,CAAC,CAACE,MAAM,IAAIF,CAAC,CAACE,MAAM,CAAC,CAAC,CAAC,IAAIF,CAAC,CAACE,MAAM,CAAC,CAAC,CAAC,CAACC,KAAK;UAAA,CAC/D,CAAC,CACAC,GAAG,CAACC,gBAAgB,CACzB,CAAC;QACH;MACF;IACF,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,OAAOnB,QAAQ;AACjB;AACA,SAASmB,gBAAgBA,CAACC,OAAY,EAAE;EACtC,OAAO;IACLC,WAAW,EACTD,OAAO,CAACL,SAAS,IAAIK,OAAO,CAACE,QAAQ,GAC9BF,OAAO,CAACL,SAAS,SAAIK,OAAO,CAACE,QAAQ,GACxCF,OAAO,CAACL,SAAS;IACvBE,KAAK,EAAEG,OAAO,CAACJ,MAAM,CAAC,CAAC,CAAC,CAACC;EAC3B,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}