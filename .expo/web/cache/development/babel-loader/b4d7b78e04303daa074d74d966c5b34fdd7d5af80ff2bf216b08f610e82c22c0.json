{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useContext, useState } from \"react\";\nimport Context from \"../../context/Context\";\nimport { auth } from \"../../config/firebase\";\nimport { RecaptchaVerifier, signInWithPhoneNumber } from 'firebase/auth';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SignIn() {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState('+91'),\n    _useState6 = _slicedToArray(_useState5, 2),\n    phone = _useState6[0],\n    setPhone = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    otp = _useState8[0],\n    setOtp = _useState8[1];\n  var _useState9 = useState(\"signUp\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    mode = _useState10[0],\n    setMode = _useState10[1];\n  var _useContext = useContext(Context),\n    colors = _useContext.theme.colors;\n  var generateRecaptcha = function generateRecaptcha() {\n    window.recaptchaVerifier = new RecaptchaVerifier('recaptcha', {\n      'size': 'invisible',\n      'callback': function callback(response) {}\n    }, auth);\n  };\n  var handlePress = function handlePress(event) {\n    event.preventDefault();\n    generateRecaptcha();\n    var appVerifier = window.recaptchaVerifier;\n    signInWithPhoneNumber(auth, phone, appVerifier).then(function (confirmationResult) {\n      window.confirmationResult = confirmationResult;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  return _jsxs(View, {\n    style: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      flex: 1,\n      backgroundColor: colors.white\n    },\n    children: [_jsx(Text, {\n      style: {\n        color: colors.foreground,\n        fontSize: 24,\n        marginBottom: 20\n      },\n      children: \"Welcome To Whatsapp\"\n    }), _jsx(Image, {\n      source: require(\"../../assets/welcome-img.png\"),\n      style: {\n        width: 180,\n        height: 180\n      },\n      resizeMode: \"cover\"\n    }), _jsxs(View, {\n      style: {\n        marginTop: 20\n      },\n      children: [_jsx(TextInput, {\n        placeholder: \"Email\",\n        value: email,\n        onChangeText: setEmail,\n        style: {\n          borderBottomColor: colors.primary,\n          borderBottomWidth: 2,\n          width: 200\n        }\n      }), _jsx(TextInput, {\n        placeholder: \"Password\",\n        secureTextEntry: true,\n        value: password,\n        onChangeText: setPassword,\n        style: {\n          borderBottomColor: colors.primary,\n          borderBottomWidth: 2,\n          width: 200,\n          marginTop: 20\n        }\n      }), _jsx(View, {\n        style: {\n          marginTop: 20\n        },\n        children: _jsx(Button, {\n          title: mode === \"SignUp\" ? \"Sign Up\" : \"Sign In\",\n          color: colors.secondary,\n          disabled: !password || !email,\n          onPress: handlePress\n        })\n      }), _jsx(TouchableOpacity, {\n        style: {\n          marginTop: 15\n        },\n        onPress: function onPress() {\n          return mode === \"SignUp\" ? setMode(\"SignIn\") : setMode(\"SignUp\");\n        },\n        children: _jsx(Text, {\n          style: {\n            color: colors.secondaryText\n          },\n          children: mode === \"SignUp\" ? \"Already have an account? SignIn\" : \"Don't have an account ? SignUp\"\n        })\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["React","useContext","useState","Context","auth","RecaptchaVerifier","signInWithPhoneNumber","jsx","_jsx","jsxs","_jsxs","SignIn","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","phone","setPhone","_useState7","_useState8","otp","setOtp","_useState9","_useState10","mode","setMode","_useContext","colors","theme","generateRecaptcha","window","recaptchaVerifier","callback","response","handlePress","event","preventDefault","appVerifier","then","confirmationResult","catch","error","console","log","View","style","justifyContent","alignItems","flex","backgroundColor","white","children","Text","color","foreground","fontSize","marginBottom","Image","source","require","width","height","resizeMode","marginTop","TextInput","placeholder","value","onChangeText","borderBottomColor","primary","borderBottomWidth","secureTextEntry","Button","title","secondary","disabled","onPress","TouchableOpacity","secondaryText"],"sources":["/home/evance/projects/Watsapp-react-native/src/screens/SignIn.tsx"],"sourcesContent":["import {\n  View,\n  Text,\n  Image,\n  TextInput,\n  Button,\n  TouchableOpacity,\n} from \"react-native\";\nimport React, { useContext, useState } from \"react\";\nimport Context from \"../../context/Context\";\nimport { auth, signIn, signUp } from \"../../config/firebase\";\nimport { RecaptchaVerifier, signInWithPhoneNumber } from 'firebase/auth';\n\n    declare global {\n  interface Window { // ⚠️ notice that \"Window\" is capitalized here\n    recaptchaVerifier: any,\n    confirmationResult :any;\n  }\n}\n\nexport default function SignIn() {\n  const [email, setEmail] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n   const [phone, setPhone] = useState('+91');\n    const [otp, setOtp] = useState('');\n\n  let [mode, setMode] = useState<string>(\"signUp\");\n  const {\n    theme: { colors },\n  } = useContext(Context);\n\n\n  const generateRecaptcha = () => {\n    window.recaptchaVerifier  = new RecaptchaVerifier('recaptcha', {\n      'size': 'invisible',\n      'callback': (response :any) => {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n        // ...\n      }\n    }, auth);\n  }\n\n  const handlePress = (event :any) => {\n    event.preventDefault();\n/*     setHasFilled(true); */\n    generateRecaptcha();\n    let appVerifier = window.recaptchaVerifier;\n    signInWithPhoneNumber(auth, phone, appVerifier)\n      .then((confirmationResult) => {\n        // SMS sent. Prompt user to type the code from the message, then sign the\n        // user in with confirmationResult.confirm(code).\n        window.confirmationResult = confirmationResult;\n      }).catch((error) => {\n        // Error; SMS not sent\n        console.log(error);\n      });\n  }\n\n/*   const verifyOtp = (event) => {\n    let otp = event.target.value;\n    setOtp(otp);\n\n    if (otp.length === 6) {\n      // verifu otp\n      let confirmationResult = window.confirmationResult;\n      confirmationResult.confirm(otp).then((result) => {\n        // User signed in successfully.\n        let user = result.user;\n        console.log(user);\n        alert('User signed in successfully');\n        // ...\n      }).catch((error) => {\n        // User couldn't sign in (bad verification code?)\n        // ...\n        alert('User couldn\\'t sign in (bad verification code?)');\n      });\n    }\n  } */\n\n\n /*  async function handlePress() {\n    if (mode === \"signUp\") {\n      await signUp(email, password);\n    }\n    if (mode === \"signIn\") {\n      await signIn(email, password);\n    }\n  } */\n\n\n\n  return (\n    <View\n      style={{\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flex: 1,\n        backgroundColor: colors.white,\n      }}\n    >   \n      <Text\n        style={{ color: colors.foreground, fontSize: 24, marginBottom: 20 }}\n      >\n        Welcome To Whatsapp\n      </Text>\n      <Image\n        source={require(\"../../assets/welcome-img.png\")}\n        style={{ width: 180, height: 180 }}\n        resizeMode=\"cover\"\n      />\n      <View style={{ marginTop: 20 }}>\n        <TextInput\n          placeholder=\"Email\"\n          value={email}\n          onChangeText={setEmail}\n          style={{\n            borderBottomColor: colors.primary,\n            borderBottomWidth: 2,\n            width: 200,\n          }}\n        />\n        <TextInput\n          placeholder=\"Password\"\n          secureTextEntry={true}\n          value={password}\n          onChangeText={setPassword}\n          style={{\n            borderBottomColor: colors.primary,\n            borderBottomWidth: 2,\n            width: 200,\n            marginTop: 20,\n          }}\n        />\n        <View style={{ marginTop: 20 }}>\n          <Button\n            title={mode === \"SignUp\" ? \"Sign Up\" : \"Sign In\"}\n            color={colors.secondary}\n            disabled={!password || !email}\n            onPress={handlePress}\n          />\n        </View>\n\n        <TouchableOpacity\n          style={{ marginTop: 15 }}\n          onPress={() =>\n            mode === \"SignUp\" ? setMode(\"SignIn\") : setMode(\"SignUp\")\n          }\n        >\n          <Text style={{ color: colors.secondaryText }}>\n            {mode === \"SignUp\"\n              ? \"Already have an account? SignIn\"\n              : \"Don't have an account ? SignUp\"}\n          </Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}